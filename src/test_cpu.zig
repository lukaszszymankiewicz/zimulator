const std = @import("std");

const cpu = @import("cpu.zig");
const hw = @import("hardware.zig");
const r = @import("reg.zig");
const t = @import("types.zig");

const ins_mod = @import("ins.zig");
const ins = ins_mod.instructions;

pub const INIT = 0;
pub const EXP = 1;
pub const IMM0 = 0;
pub const IMM1 = 1;
pub const ADDRESS = 0;
pub const VAL = 1;

const RegVals = [2]t.IndexType;

const CASE = struct {
    OP: t.DataType = 0,
    A: RegVals = .{ 0, 0 },
    B: RegVals = .{ 0, 0 },
    C: RegVals = .{ 0, 0 },
    D: RegVals = .{ 0, 0 },
    E: RegVals = .{ 0, 0 },
    H: RegVals = .{ 0, 0 },
    L: RegVals = .{ 0, 0 },
    CF: RegVals = .{ 0, 0 },
    HF: RegVals = .{ 0, 0 },
    NF: RegVals = .{ 0, 0 },
    ZF: RegVals = .{ 0, 0 },
    S: RegVals = .{ 0, 0 },
    P: RegVals = .{ 0, 0 },
    PCL: RegVals = .{ 0, 0 },
    PCH: RegVals = .{ 0, 0 },
    MEM: RegVals = .{ 0, 0 },
    EXP_MEM: RegVals = .{ 0, 0 },
    IMM: RegVals = .{ 0, 0 },
};

test "test instructions modifies the state of CPU properly" {
    const test_cases = [_]CASE{
        .{ .OP = 0, .PCL = .{ 0, 1 } },
        .{ .OP = 0, .PCL = .{ 0, 1 } },
        .{ .OP = 0, .PCL = .{ 0, 1 } },
        .{ .OP = 1, .IMM = .{ 0, 0 }, .B = .{ 0, 0 }, .C = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 0, 128 }, .B = .{ 0, 0 }, .C = .{ 0, 128 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 0, 255 }, .B = .{ 0, 0 }, .C = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 1, 1 }, .B = .{ 1, 1 }, .C = .{ 1, 1 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 127, 255 }, .B = .{ 127, 127 }, .C = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 128, 0 }, .B = .{ 128, 128 }, .C = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 15, 240 }, .B = .{ 15, 15 }, .C = .{ 240, 240 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 170, 85 }, .B = .{ 170, 170 }, .C = .{ 85, 85 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 240, 15 }, .B = .{ 240, 240 }, .C = .{ 15, 15 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 255, 0 }, .B = .{ 255, 255 }, .C = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 255, 255 }, .B = .{ 255, 255 }, .C = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 52, 18 }, .B = .{ 52, 52 }, .C = .{ 18, 18 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 66, 105 }, .B = .{ 66, 66 }, .C = .{ 105, 105 }, .PCL = .{ 0, 3 } },
        .{ .OP = 1, .IMM = .{ 85, 170 }, .B = .{ 85, 85 }, .C = .{ 170, 170 }, .PCL = .{ 0, 3 } },
        .{ .OP = 2, .A = .{ 0, 0 }, .B = .{ 0, 0 }, .C = .{ 0, 0 }, .EXP_MEM = .{ 0, 0 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 1, 1 }, .B = .{ 10, 10 }, .C = .{ 20, 20 }, .EXP_MEM = .{ 2580, 1 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 128, 128 }, .B = .{ 1, 1 }, .C = .{ 1, 1 }, .EXP_MEM = .{ 257, 128 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 13, 13 }, .B = .{ 10, 10 }, .C = .{ 10, 10 }, .EXP_MEM = .{ 2570, 13 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 13, 13 }, .B = .{ 10, 10 }, .C = .{ 10, 10 }, .EXP_MEM = .{ 2570, 13 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 170, 170 }, .B = .{ 5, 5 }, .C = .{ 170, 170 }, .EXP_MEM = .{ 1450, 170 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 200, 200 }, .B = .{ 3, 3 }, .C = .{ 100, 100 }, .EXP_MEM = .{ 868, 200 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 255, 255 }, .B = .{ 0, 0 }, .C = .{ 1, 1 }, .EXP_MEM = .{ 1, 255 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 33, 33 }, .B = .{ 100, 100 }, .C = .{ 50, 50 }, .EXP_MEM = .{ 25650, 33 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 42, 42 }, .B = .{ 1, 1 }, .C = .{ 0, 0 }, .EXP_MEM = .{ 256, 42 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 77, 77 }, .B = .{ 255, 255 }, .C = .{ 255, 255 }, .EXP_MEM = .{ 65535, 77 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 85, 85 }, .B = .{ 2, 2 }, .C = .{ 50, 50 }, .EXP_MEM = .{ 562, 85 }, .PCL =.{0,1} },
        .{ .OP = 2, .A = .{ 99, 99 }, .B = .{ 15, 15 }, .C = .{ 240, 240 }, .EXP_MEM = .{ 4080, 99 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 0, 0 }, .C = .{ 0, 1 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 0, 0 }, .C = .{ 1, 2 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 0, 0 }, .C = .{ 254, 255 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 0, 1 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 1, 1 }, .C = .{ 0, 1 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 1, 2 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 10, 10 }, .C = .{ 10, 11 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 10, 10 }, .C = .{ 10, 11 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 100, 101 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 128, 128 }, .C = .{ 128, 129 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 15, 15 }, .C = .{ 15, 16 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 15, 16 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 200, 200 }, .C = .{ 200, 201 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 254, 254 }, .C = .{ 254, 255 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 254, 255 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 255, 0 }, .C = .{ 255, 0 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 255, 255 }, .C = .{ 254, 255 }, .PCL =.{0,1} },
        .{ .OP = 3, .B = .{ 50, 50 }, .C = .{ 100, 101 }, .PCL =.{0,1} },
        .{ .OP = 6, .B = .{ 4, 13 }, .IMM = .{ 13, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 10, .A = .{ 0, 42 }, .B = .{ 3, 3 }, .C = .{ 3, 3 }, .MEM = .{ 771, 42 }, .PCL = .{0, 1} },
        .{ .OP = 11, .B = .{ 42, 41 }, .C = .{ 0, 255 }, .PCL = .{0, 1} },
        .{ .OP = 11, .B = .{ 42, 42 }, .C = .{ 3, 2 }, .PCL = .{0, 1} },
        .{ .OP = 14, .C = .{ 4, 13 }, .IMM = .{ 13, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 17, .IMM = .{ 0, 0 }, .D = .{ 0, 0 }, .E = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 0, 0 }, .D = .{ 0, 0 }, .E = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 1, 1 }, .D = .{ 1, 1 }, .E = .{ 1, 1 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 1, 1 }, .D = .{ 1, 1 }, .E = .{ 1, 1 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 170, 85 }, .D = .{ 170, 170 }, .E = .{ 85, 85 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 170, 85 }, .D = .{ 170, 170 }, .E = .{ 85, 85 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 204, 51 }, .D = .{ 204, 204 }, .E = .{ 51, 51 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 255, 255 }, .D = .{ 255, 255 }, .E = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 255, 255 }, .D = .{ 255, 255 }, .E = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 52, 18 }, .D = .{ 52, 52 }, .E = .{ 18, 18 }, .PCL = .{ 0, 3 } },
        .{ .OP = 17, .IMM = .{ 52, 18 }, .D = .{ 52, 52 }, .E = .{ 18, 18 }, .PCL = .{ 0, 3 } },
        .{ .OP = 18, .A = .{ 0, 0 }, .D = .{ 0, 0 }, .E = .{ 0, 0 }, .EXP_MEM = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 1, 1 }, .D = .{ 10, 10 }, .E = .{ 20, 20 }, .EXP_MEM = .{ 2580, 1 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 128, 128 }, .D = .{ 1, 1 }, .E = .{ 1, 1 }, .EXP_MEM = .{ 257, 128 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 13, 13 }, .D = .{ 10, 10 }, .E = .{ 10, 10 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 13, 13 }, .D = .{ 10, 10 }, .E = .{ 10, 10 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 170, 170 }, .D = .{ 5, 5 }, .E = .{ 170, 170 }, .EXP_MEM = .{ 1450, 170 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 200, 200 }, .D = .{ 3, 3 }, .E = .{ 100, 100 }, .EXP_MEM = .{ 868, 200 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 255, 255 }, .D = .{ 0, 0 }, .E = .{ 1, 1 }, .EXP_MEM = .{ 1, 255 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 33, 33 }, .D = .{ 100, 100 }, .E = .{ 50, 50 }, .EXP_MEM = .{ 25650, 33 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 42, 42 }, .D = .{ 1, 1 }, .E = .{ 0, 0 }, .EXP_MEM = .{ 256, 42 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 77, 77 }, .D = .{ 255, 255 }, .E = .{ 255, 255 }, .EXP_MEM = .{ 65535, 77 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 85, 85 }, .D = .{ 2, 2 }, .E = .{ 50, 50 }, .EXP_MEM = .{ 562, 85 }, .PCL = .{0, 1} },
        .{ .OP = 18, .A = .{ 99, 99 }, .D = .{ 15, 15 }, .E = .{ 240, 240 }, .EXP_MEM = .{ 4080, 99 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 0, 0 }, .E = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 0, 0 }, .E = .{ 1, 2 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 0, 0 }, .E = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 0, 1 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 1, 1 }, .E = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 1, 2 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 10, 10 }, .E = .{ 10, 11 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 10, 10 }, .E = .{ 10, 11 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 100, 101 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 128, 128 }, .E = .{ 128, 129 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 15, 15 }, .E = .{ 15, 16 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 15, 16 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 200, 200 }, .E = .{ 200, 201 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 254, 254 }, .E = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 254, 255 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 255, 0 }, .E = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 255, 255 }, .E = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 19, .D = .{ 50, 50 }, .E = .{ 100, 101 }, .PCL = .{0, 1} },
        .{ .OP = 22, .D = .{ 4, 13 }, .IMM = .{ 13, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 26, .A = .{ 0, 13 }, .D = .{ 3, 3 }, .E = .{ 3, 3 }, .MEM = .{ 771, 13 }, .PCL = .{0, 1} },
        .{ .OP = 27, .D = .{ 42, 41 }, .E = .{ 0, 255 }, .PCL = .{0, 1} },
        .{ .OP = 27, .D = .{ 42, 42 }, .E = .{ 3, 2 }, .PCL = .{0, 1} },
        .{ .OP = 30, .E = .{ 4, 13 }, .IMM = .{ 13, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 33, .IMM = .{ 0, 0 }, .H = .{ 0, 0 }, .L = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 33, .IMM = .{ 1, 1 }, .H = .{ 1, 1 }, .L = .{ 1, 1 }, .PCL = .{ 0, 3 } },
        .{ .OP = 33, .IMM = .{ 170, 85 }, .H = .{ 170, 170 }, .L = .{ 85, 85 }, .PCL = .{ 0, 3 } },
        .{ .OP = 33, .IMM = .{ 204, 51 }, .H = .{ 204, 204 }, .L = .{ 51, 51 }, .PCL = .{ 0, 3 } },
        .{ .OP = 33, .IMM = .{ 255, 255 }, .H = .{ 255, 255 }, .L = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 33, .IMM = .{ 52, 18 }, .H = .{ 52, 52 }, .L = .{ 18, 18 }, .PCL = .{ 0, 3 } },
        .{ .OP = 34, .A = .{ 0, 0 }, .H = .{ 0, 0 }, .L = .{ 0, 1 }, .EXP_MEM = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 1, 1 }, .H = .{ 254, 255 }, .L = .{ 255, 0 }, .EXP_MEM = .{ 65279, 1 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 128, 128 }, .H = .{ 2, 2 }, .L = .{ 50, 51 }, .EXP_MEM = .{ 562, 128 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 13, 13 }, .H = .{ 10, 10 }, .L = .{ 10, 11 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 13, 13 }, .H = .{ 10, 10 }, .L = .{ 10, 11 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 170, 170 }, .H = .{ 50, 50 }, .L = .{ 200, 201 }, .EXP_MEM = .{ 13000, 170 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 200, 200 }, .H = .{ 5, 5 }, .L = .{ 254, 255 }, .EXP_MEM = .{ 1534, 200 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 255, 255 }, .H = .{ 1, 1 }, .L = .{ 0, 1 }, .EXP_MEM = .{ 256, 255 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 33, 33 }, .H = .{ 10, 10 }, .L = .{ 20, 21 }, .EXP_MEM = .{ 2580, 33 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 42, 42 }, .H = .{ 0, 0 }, .L = .{ 100, 101 }, .EXP_MEM = .{ 100, 42 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 77, 77 }, .H = .{ 255, 0 }, .L = .{ 255, 0 }, .EXP_MEM = .{ 65535, 77 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 85, 85 }, .H = .{ 1, 2 }, .L = .{ 255, 0 }, .EXP_MEM = .{ 511, 85 }, .PCL = .{0, 1} },
        .{ .OP = 34, .A = .{ 99, 99 }, .H = .{ 100, 100 }, .L = .{ 150, 151 }, .EXP_MEM = .{ 25750, 99 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 0, 0 }, .L = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 0, 0 }, .L = .{ 1, 2 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 0, 0 }, .L = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 0, 1 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 1, 1 }, .L = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 1, 2 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 10, 10 }, .L = .{ 10, 11 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 10, 10 }, .L = .{ 10, 11 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 100, 101 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 128, 128 }, .L = .{ 128, 129 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 15, 15 }, .L = .{ 15, 16 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 15, 16 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 200, 200 }, .L = .{ 200, 201 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 254, 254 }, .L = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 254, 255 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 255, 0 }, .L = .{ 255, 0 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 255, 255 }, .L = .{ 254, 255 }, .PCL = .{0, 1} },
        .{ .OP = 35, .H = .{ 50, 50 }, .L = .{ 100, 101 }, .PCL = .{0, 1} },
        .{ .OP = 38, .H = .{ 4, 13 }, .IMM = .{ 13, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 43, .H = .{ 42, 41 }, .L = .{ 0, 255 }, .PCL = .{0, 1} },
        .{ .OP = 43, .H = .{ 42, 42 }, .L = .{ 3, 2 }, .PCL = .{0, 1} },
        .{ .OP = 46, .L = .{ 8, 20 }, .IMM = .{ 20, 25 }, .PCL = .{ 0, 2 } },
        .{ .OP = 49, .IMM = .{ 1, 1 }, .S = .{ 1, 1 }, .P = .{ 1, 1 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 127, 255 }, .S = .{ 127, 127 }, .P = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 128, 0 }, .S = .{ 128, 128 }, .P = .{ 0, 0 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 170, 85 }, .S = .{ 170, 170 }, .P = .{ 85, 85 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 204, 51 }, .S = .{ 204, 204 }, .P = .{ 51, 51 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 240, 15 }, .S = .{ 240, 240 }, .P = .{ 15, 15 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 255, 255 }, .S = .{ 255, 255 }, .P = .{ 255, 255 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 52, 18 }, .S = .{ 52, 52 }, .P = .{ 18, 18 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 66, 105 }, .S = .{ 66, 66 }, .P = .{ 105, 105 }, .PCL = .{ 0, 3 } },
        .{ .OP = 49, .IMM = .{ 85, 170 }, .S = .{ 85, 85 }, .P = .{ 170, 170 }, .PCL = .{ 0, 3 } },
        .{ .OP = 50, .A = .{ 0, 0 }, .H = .{ 0, 0 }, .L = .{ 1, 0 }, .EXP_MEM = .{ 1, 0 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 1, 1 }, .H = .{ 1, 0 }, .L = .{ 0, 255 }, .EXP_MEM = .{ 256, 1 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 123, 123 }, .H = .{ 0, 255 }, .L = .{ 0, 255 }, .EXP_MEM = .{ 0, 123 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 128, 128 }, .H = .{ 2, 2 }, .L = .{ 50, 49 }, .EXP_MEM = .{ 562, 128 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 13, 13 }, .H = .{ 10, 10 }, .L = .{ 10, 9 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 13, 13 }, .H = .{ 10, 10 }, .L = .{ 10, 9 }, .EXP_MEM = .{ 2570, 13 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 170, 170 }, .H = .{ 50, 50 }, .L = .{ 200, 199 }, .EXP_MEM = .{ 13000, 170 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 200, 200 }, .H = .{ 5, 5 }, .L = .{ 1, 0 }, .EXP_MEM = .{ 1281, 200 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 255, 255 }, .H = .{ 1, 0 }, .L = .{ 0, 255 }, .EXP_MEM = .{ 256, 255 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 33, 33 }, .H = .{ 10, 10 }, .L = .{ 20, 19 }, .EXP_MEM = .{ 2580, 33 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 42, 42 }, .H = .{ 0, 0 }, .L = .{ 100, 99 }, .EXP_MEM = .{ 100, 42 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 64, 64 }, .H = .{ 255, 254 }, .L = .{ 0, 255 }, .EXP_MEM = .{ 65280, 64 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 85, 85 }, .H = .{ 2, 1 }, .L = .{ 0, 255 }, .EXP_MEM = .{ 512, 85 }, .PCL = .{0, 1} },
        .{ .OP = 50, .A = .{ 99, 99 }, .H = .{ 100, 100 }, .L = .{ 150, 149 }, .EXP_MEM = .{ 25750, 99 }, .PCL = .{0, 1} },
        .{ .OP = 51, .S = .{ 0, 0 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 0, 0 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 0, 0 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 0, 0 }, .P = .{ 1, 2 } },
        .{ .OP = 51, .S = .{ 0, 0 }, .P = .{ 2, 3 } },
        .{ .OP = 51, .S = .{ 1, 1 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 1, 1 }, .P = .{ 1, 2 } },
        .{ .OP = 51, .S = .{ 10, 10 }, .P = .{ 11, 12 } },
        .{ .OP = 51, .S = .{ 10, 10 }, .P = .{ 11, 12 } },
        .{ .OP = 51, .S = .{ 101, 101 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 128, 128 }, .P = .{ 129, 130 } },
        .{ .OP = 51, .S = .{ 15, 15 }, .P = .{ 16, 17 } },
        .{ .OP = 51, .S = .{ 16, 16 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 2, 2 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 200, 200 }, .P = .{ 201, 202 } },
        .{ .OP = 51, .S = .{ 255, 255 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 255, 255 }, .P = .{ 0, 1 } },
        .{ .OP = 51, .S = .{ 50, 50 }, .P = .{ 101, 102 } },
        .{ .OP = 59, .S = .{ 42, 41 }, .P = .{ 0, 255 } },
        .{ .OP = 59, .S = .{ 42, 42 }, .P = .{ 3, 2 } },
        .{ .OP = 62, .A = .{ 13, 20 }, .IMM = .{ 20, 25 }, .PCL = .{ 0, 2 } },
        .{ .OP = 64, .B = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 65, .B = .{ 0, 69 }, .C = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 66, .B = .{ 0, 69 }, .D = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 67, .B = .{ 0, 69 }, .E = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 68, .B = .{ 0, 69 }, .H = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 69, .B = .{ 0, 69 }, .L = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 102, .H = .{ 13, 69 }, .L = .{ 13, 13 }, .MEM = .{ 3341, 69 }, .PCL = .{0, 1} },
        .{ .OP = 120, .A = .{ 0, 69 }, .B = .{ 69, 69 }, .PCL = .{0, 1} },
        .{ .OP = 128, .A = .{ 255, 0 }, .B = .{ 1, 1 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 128, .A = .{ 255, 8 }, .B = .{ 9, 9 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 128, .A = .{ 65, 112 }, .B = .{ 47, 47 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 129, .A = .{ 0, 0 }, .C = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 129, .A = .{ 241, 16 }, .C = .{ 31, 31 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 130, .A = .{ 1, 3 }, .D = .{ 2, 2 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 130, .A = .{ 255, 254 }, .D = .{ 255, 255 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 131, .A = .{ 9, 11 }, .E = .{ 2, 2 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 132, .A = .{ 1, 16 }, .H = .{ 15, 15 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 133, .A = .{ 1, 16 }, .L = .{ 15, 15 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 0, 0 }, .H = .{ 3, 3 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .MEM = .{ 768, 0 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 1, 100 }, .H = .{ 1, 1 }, .L = .{ 9, 9 }, .CF = .{ 0, 0 }, .HF = .{ 1, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 265, 99 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 10, 15 }, .H = .{ 8, 8 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 2048, 5 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 100, 99 }, .H = .{ 4, 4 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1024, 255 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 15, 16 }, .H = .{ 1, 1 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 256, 1 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 240, 0 }, .H = .{ 6, 6 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .MEM = .{ 1536, 16 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 255, 0 }, .H = .{ 2, 2 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .MEM = .{ 512, 1 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 255, 254 }, .H = .{ 5, 5 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1280, 255 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 50, 75 }, .H = .{ 1, 1 }, .L = .{ 100, 100 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 356, 25 }, .PCL = .{0, 1} },
        .{ .OP = 134, .A = .{ 8, 16 }, .H = .{ 7, 7 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1792, 8 }, .PCL = .{0, 1} },
        .{ .OP = 135, .A = .{ 1, 2 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 135, .A = .{ 23, 46 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 135, .A = .{ 3, 6 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 136, .A = .{ 255, 1 }, .B = .{ 1, 1 }, .CF = .{ 1, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 136, .A = .{ 65, 113 }, .B = .{ 47, 47 }, .CF = .{ 1, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 137, .A = .{ 0, 0 }, .C = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 137, .A = .{ 241, 16 }, .C = .{ 31, 31 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 138, .A = .{ 1, 4 }, .D = .{ 2, 2 }, .CF = .{ 1, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 138, .A = .{ 255, 255 }, .D = .{ 255, 255 }, .CF = .{ 1, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 139, .A = .{ 9, 11 }, .E = .{ 2, 2 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 140, .A = .{ 1, 9 }, .H = .{ 7, 7 }, .CF = .{ 1, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 141, .A = .{ 1, 8 }, .L = .{ 7, 7 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 0, 1 }, .H = .{ 3, 3 }, .L = .{ 0, 0 }, .CF = .{ 1, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 768, 0 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 1, 101 }, .H = .{ 1, 1 }, .L = .{ 9, 9 }, .CF = .{ 1, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 265, 99 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 10, 15 }, .H = .{ 8, 8 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 2048, 5 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 100, 99 }, .H = .{ 4, 4 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1024, 255 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 15, 17 }, .H = .{ 1, 1 }, .L = .{ 0, 0 }, .CF = .{ 1, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 256, 1 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 240, 0 }, .H = .{ 6, 6 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 1 }, .MEM = .{ 1536, 16 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 255, 1 }, .H = .{ 2, 2 }, .L = .{ 0, 0 }, .CF = .{ 1, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 512, 1 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 255, 254 }, .H = .{ 5, 5 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1280, 255 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 50, 76 }, .H = .{ 1, 1 }, .L = .{ 100, 100 }, .CF = .{ 1, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 356, 25 }, .PCL = .{0, 1} },
        .{ .OP = 142, .A = .{ 8, 16 }, .H = .{ 7, 7 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .MEM = .{ 1792, 8 }, .PCL = .{0, 1} },
        .{ .OP = 143, .A = .{ 1, 2 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 143, .A = .{ 21, 42 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 143, .A = .{ 3, 7 }, .CF = .{ 1, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 0 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 144, .A = .{ 0, 0 }, .B = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 144, .A = .{ 21, 20 }, .B = .{ 1, 1 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 144, .A = .{ 7, 248 }, .B = .{ 15, 15 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 145, .A = .{ 21, 0 }, .C = .{ 21, 21 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 146, .A = .{ 127, 42 }, .D = .{ 85, 85 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 147, .A = .{ 127, 42 }, .E = .{ 85, 85 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 148, .A = .{ 127, 42 }, .H = .{ 85, 85 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 149, .A = .{ 0, 255 }, .L = .{ 1, 1 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 0, 0 }, .H = .{ 6, 6 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .MEM = .{ 1536, 0 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 0, 255 }, .H = .{ 5, 5 }, .L = .{ 0, 0 }, .CF = .{ 0, 1 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 1280, 1 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 1, 1 }, .H = .{ 7, 7 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 1792, 0 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 127, 42 }, .H = .{ 1, 1 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 256, 85 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 127, 42 }, .H = .{ 3, 3 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 768, 85 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 127, 42 }, .H = .{ 4, 4 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 1024, 85 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 136, 0 }, .H = .{ 9, 9 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .MEM = .{ 2304, 136 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 15, 15 }, .H = .{ 8, 8 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 2048, 0 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 21, 0 }, .H = .{ 2, 2 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .MEM = .{ 512, 21 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 21, 20 }, .H = .{ 1, 1 }, .L = .{ 9, 9 }, .CF = .{ 0, 0 }, .HF = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .MEM = .{ 265, 1 }, .PCL = .{0, 1} },
        .{ .OP = 150, .A = .{ 255, 0 }, .H = .{ 10, 10 }, .L = .{ 0, 0 }, .CF = .{ 0, 0 }, .HF = .{ 0, 1 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .MEM = .{ 2560, 255 }, .PCL = .{0, 1} },
        .{ .OP = 151, .A = .{ 0, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 151, .A = .{ 1, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 151, .A = .{ 136, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 151, .A = .{ 15, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 151, .A = .{ 255, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .HF = .{ 0, 1 }, .PCL = .{0, 1} },
        .{ .OP = 176, .A = .{ 0b1111_0000, 0b1111_1111 }, .B = .{ 0b1111_1111, 0b1111_1111 }, .PCL = .{0, 1} },
        .{ .OP = 177, .A = .{ 0b1111_0000, 0b1111_1111 }, .C = .{ 0b0000_1111, 0b0000_1111 }, .PCL = .{0, 1} },
        .{ .OP = 178, .A = .{ 0b0000_0000, 0b1010_1010 }, .D = .{ 0b1010_1010, 0b1010_1010 }, .PCL = .{0, 1} },
        .{ .OP = 179, .A = .{ 0b0000_0000, 0b1010_1010 }, .E = .{ 0b1010_1010, 0b1010_1010 }, .PCL = .{0, 1} },
        .{ .OP = 180, .A = .{ 0b0000_0000, 0b1010_1010 }, .H = .{ 0b1010_1010, 0b1010_1010 }, .PCL = .{0, 1} },
        .{ .OP = 181, .A = .{ 0b0000_0000, 0b1010_1010 }, .L = .{ 0b1010_1010, 0b1010_1010 }, .PCL = .{0, 1} },

        .{ .OP = 183, .A = .{ 0b1010_1010, 0b1010_1010 }, .PCL = .{0, 1} },

        .{ .OP = 194, .IMM = .{ 4, 2 }, .ZF = .{ 0, 0 }, .PCL = .{ 13, 4 }, .PCH = .{ 13, 2 } },
        .{ .OP = 194, .IMM = .{ 42, 69 }, .ZF = .{ 0, 0 }, .PCL = .{ 13, 42 }, .PCH = .{ 13, 69 } },
        .{ .OP = 194, .IMM = .{ 42, 69 }, .ZF = .{ 1, 1 }, .PCL = .{ 255, 2 }, .PCH = .{ 13, 14 } },
        .{ .OP = 194, .IMM = .{ 42, 69 }, .ZF = .{ 1, 1 }, .PCL = .{ 69, 72 }, .PCH = .{ 13, 13 } },
        .{ .OP = 195, .IMM = .{ 42, 69 }, .PCL = .{ 0, 42 }, .PCH = .{ 0, 69 } },
        .{ .OP = 202, .IMM = .{ 42, 69 }, .ZF = .{ 0, 0 }, .PCL = .{ 255, 2 }, .PCH = .{ 13, 14 } },
        .{ .OP = 202, .IMM = .{ 42, 69 }, .ZF = .{ 0, 0 }, .PCL = .{ 0, 3 }, .PCH = .{ 13, 13 } },
        .{ .OP = 202, .IMM = .{ 4, 2 }, .ZF = .{ 1, 1 }, .PCL = .{ 13, 4 }, .PCH = .{ 13, 2 } },
        .{ .OP = 202, .IMM = .{ 42, 69 }, .ZF = .{ 0, 0 }, .PCL = .{ 69, 72 }, .PCH = .{ 13, 13 } },
        .{ .OP = 202, .IMM = .{ 42, 69 }, .ZF = .{ 1, 1 }, .PCL = .{ 13, 42 }, .PCH = .{ 13, 69 } },
        .{ .OP = 206, .A = .{ 0, 42 }, .IMM = .{ 42, 69 }, .PCL = .{ 0, 2 }, .CF = .{ 0, 0 } },
        .{ .OP = 206, .A = .{ 0, 43 }, .IMM = .{ 42, 69 }, .PCL = .{ 0, 2 }, .CF = .{ 1, 0 } },
        .{ .OP = 206, .A = .{ 255, 255 }, .IMM = .{ 255, 69 }, .PCL = .{ 0, 2 }, .CF = .{ 1, 1 } },
        .{ .OP = 210, .IMM = .{ 4, 2 }, .CF = .{ 0, 0 }, .PCL = .{ 13, 4 }, .PCH = .{ 13, 2 } },
        .{ .OP = 210, .IMM = .{ 42, 69 }, .CF = .{ 0, 0 }, .PCL = .{ 13, 42 }, .PCH = .{ 13, 69 } },
        .{ .OP = 210, .IMM = .{ 42, 69 }, .CF = .{ 1, 1 }, .PCL = .{ 255, 2 }, .PCH = .{ 13, 14 } },
        .{ .OP = 210, .IMM = .{ 42, 69 }, .CF = .{ 1, 1 }, .PCL = .{ 69, 72 }, .PCH = .{ 13, 13 } },
        .{ .OP = 210, .IMM = .{ 42, 69 }, .CF = .{ 1, 1 }, .PCL = .{ 0, 3 }, .PCH = .{ 13, 13 } },
        .{ .OP = 218, .IMM = .{ 4, 2 }, .CF = .{ 1, 1 }, .PCL = .{ 13, 4 }, .PCH = .{ 13, 2 } },
        .{ .OP = 218, .IMM = .{ 42, 69 }, .CF = .{ 0, 0 }, .PCL = .{ 255, 2 }, .PCH = .{ 13, 14 } },
        .{ .OP = 218, .IMM = .{ 42, 69 }, .CF = .{ 0, 0 }, .PCL = .{ 0, 3 }, .PCH = .{ 14, 14 } },
        .{ .OP = 218, .IMM = .{ 42, 69 }, .CF = .{ 0, 0 }, .PCL = .{ 69, 72 }, .PCH = .{ 13, 13 } },
        .{ .OP = 218, .IMM = .{ 42, 69 }, .CF = .{ 1, 1 }, .PCL = .{ 13, 42 }, .PCH = .{ 13, 69 } },
        .{ .OP = 234, .A = .{ 10, 10 }, .IMM = .{ 1, 1 }, .EXP_MEM = .{ 257, 10 }, .PCL = .{ 0, 3 } },
        .{ .OP = 234, .A = .{ 25, 25 }, .IMM = .{ 33, 33 }, .EXP_MEM = .{ 8481, 25 }, .PCL = .{ 0, 3 } },
        .{ .OP = 250, .A = .{ 0, 25 }, .IMM = .{ 0, 1 }, .MEM = .{ 256, 25 }, .PCL = .{ 0, 3 } },
        .{ .OP = 250, .A = .{ 0, 25 }, .IMM = .{ 1, 0 }, .MEM = .{ 1, 25 }, .PCL = .{ 0, 3 } },
        .{ .OP = 250, .A = .{ 0, 69 }, .IMM = .{ 1, 1 }, .MEM = .{ 257, 69 }, .PCL = .{ 0, 3 } },
        .{ .OP = 254, .A = .{ 69, 69 }, .IMM = .{ 1, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 254, .A = .{ 69, 69 }, .IMM = .{ 200, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 0 }, .PCL = .{ 0, 2 } },
        .{ .OP = 254, .A = .{ 69, 69 }, .IMM = .{ 69, 0 }, .NF = .{ 0, 1 }, .ZF = .{ 0, 1 }, .PCL = .{ 0, 2 } },
    };

    // run test cases
    for (test_cases, 0..) |case, idx| {
        // PREP
        var c = cpu.CPU.init();

        c.REG[@intCast(r.A)] = @intCast(case.A[INIT]);
        c.REG[@intCast(r.B)] = @intCast(case.B[INIT]);
        c.REG[@intCast(r.C)] = @intCast(case.C[INIT]);
        c.REG[@intCast(r.D)] = @intCast(case.D[INIT]);
        c.REG[@intCast(r.E)] = @intCast(case.E[INIT]);
        c.REG[@intCast(r.H)] = @intCast(case.H[INIT]);
        c.REG[@intCast(r.L)] = @intCast(case.L[INIT]);
        c.REG[@intCast(r.CF)] = @intCast(case.CF[INIT]);
        c.REG[@intCast(r.HF)] = @intCast(case.HF[INIT]);
        c.REG[@intCast(r.NF)] = @intCast(case.NF[INIT]);
        c.REG[@intCast(r.ZF)] = @intCast(case.ZF[INIT]);
        c.REG[@intCast(r.S)] = @intCast(case.S[INIT]);
        c.REG[@intCast(r.P)] = @intCast(case.P[INIT]);
        c.REG[@intCast(r.PCL)] = @intCast(case.PCL[INIT]);
        c.REG[@intCast(r.PCH)] = @intCast(case.PCH[INIT]);
        c.REG[@intCast(case.MEM[ADDRESS] + hw.SREG_SIZE)] = @intCast(case.MEM[VAL]);

        // WHEN
        std.debug.print("case: {d}, op 0x{X} ", .{ idx, case.OP });
        var program: [3]t.DataType = [_]t.DataType{ case.OP, @intCast(case.IMM[IMM0]), @intCast(case.IMM[IMM1]) };
        c.run_ins(&program);

        // THEN
        try std.testing.expect(c.REG[@intCast(r.A)] == case.A[EXP]);
        try std.testing.expect(c.REG[@intCast(r.B)] == case.B[EXP]);
        try std.testing.expect(c.REG[@intCast(r.C)] == case.C[EXP]);
        try std.testing.expect(c.REG[@intCast(r.D)] == case.D[EXP]);
        try std.testing.expect(c.REG[@intCast(r.E)] == case.E[EXP]);
        try std.testing.expect(c.REG[@intCast(r.H)] == case.H[EXP]);
        try std.testing.expect(c.REG[@intCast(r.L)] == case.L[EXP]);
        try std.testing.expect(c.REG[@intCast(r.CF)] == case.CF[EXP]);
        try std.testing.expect(c.REG[@intCast(r.HF)] == case.HF[EXP]);
        try std.testing.expect(c.REG[@intCast(r.NF)] == case.NF[EXP]);
        try std.testing.expect(c.REG[@intCast(r.ZF)] == case.ZF[EXP]);
        try std.testing.expect(c.REG[@intCast(r.S)] == case.S[EXP]);
        try std.testing.expect(c.REG[@intCast(r.P)] == case.P[EXP]);
        try std.testing.expect(c.REG[@intCast(r.PCL)] == case.PCL[EXP]);
        try std.testing.expect(c.REG[@intCast(r.PCH)] == case.PCH[EXP]);
        try std.testing.expect(c.REG[@intCast(case.EXP_MEM[0] + hw.SREG_SIZE)] == case.EXP_MEM[1]);

        std.debug.print("PASSED\n", .{});
    }
}
